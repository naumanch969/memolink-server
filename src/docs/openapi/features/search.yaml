paths:
  /search/global:
    get:
      summary: Perform a global search across multiple collections
      tags: [Search]
      security:
        - bearerAuth: []
      parameters:
        - in: query
          name: q
          required: true
          schema:
            type: string
          description: Search query string
        - in: query
          name: mode
          schema:
            type: string
            enum: [instant, deep, hybrid]
          description: Search mode
        - in: query
          name: limit
          schema:
            type: integer
            default: 10
        - in: query
          name: collections
          schema:
            type: string
          description: Comma-separated list of collections (entries,goals,reminders,entities,tags)
      responses:
        200:
          description: Global search results retrieved
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/GlobalSearchResponse'

components:
  schemas:
    GlobalSearchResponse:
      type: object
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/Entry'
        goals:
          type: array
          items:
            $ref: '#/components/schemas/Goal'
        reminders:
          type: array
          items:
            $ref: '#/components/schemas/Reminder'
        entities:
          type: array
          items:
            $ref: '#/components/schemas/Entity'
        tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'
        total:
          type: integer
